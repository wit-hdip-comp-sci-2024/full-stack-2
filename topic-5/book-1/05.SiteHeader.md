## Site Header.

We need a better looking site header for the app.

![][newheader]

There are some extra dummy navigation options on the right for demonstration purposes. We will also use the header to demonstrate responsiveness using the Material UI library. The objective is to replace the list of navigation links on the right with a drop-down menu:

![][responsive]

Create the file `src/components/siteHeader/index.tsx` and add this code:

```tsx
import React, { useState, MouseEvent } from "react";
import AppBar from "@mui/material/AppBar";
import Toolbar from "@mui/material/Toolbar";
import Typography from "@mui/material/Typography";
import IconButton from "@mui/material/IconButton";
import Button from "@mui/material/Button";
import { styled } from "@mui/material/styles";
import MenuIcon from "@mui/icons-material/Menu";
import MenuItem from "@mui/material/MenuItem";
import Menu from "@mui/material/Menu";
import { useNavigate } from "react-router-dom";
import { useTheme } from "@mui/material/styles";
import useMediaQuery from "@mui/material/useMediaQuery";

const styles = {
    title: {
      flexGrow: 1,
    },
  };

const Offset = styled("div")(({ theme }) => theme.mixins.toolbar);

const SiteHeader: React.FC = () => {
  const navigate = useNavigate();
  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement|null>(null);
  const open = Boolean(anchorEl);
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down("lg"));

  const menuOptions = [
    { label: "Home", path: "/" },
    { label: "Favorites", path: "/movies/favourites" },
    { label: "Option 3", path: "/" },
    { label: "Option 4", path: "/" },
  ];

  const handleMenuSelect = (pageURL: string) => {
    navigate(pageURL);
  };

  const handleMenu = (event: MouseEvent<HTMLButtonElement>) => {
    setAnchorEl(event.currentTarget);
  };

  return (
    <>
      <AppBar position="fixed" elevation={0} color="primary">
        <Toolbar>
          <Typography variant="h4" sx={styles.title}>
            TMDB Client
          </Typography>
          <Typography variant="h6" sx={styles.title}>
            All you ever wanted to know about Movies!
          </Typography>
          {isMobile ? (
            <>
              <IconButton
                aria-label="menu"
                aria-controls="menu-appbar"
                aria-haspopup="true"
                onClick={handleMenu}
                color="inherit"
                size="large"
              >
                <MenuIcon />
              </IconButton>
              <Menu
                id="menu-appbar"
                anchorEl={anchorEl}
                anchorOrigin={{
                  vertical: "top",
                  horizontal: "right",
                }}
                keepMounted
                transformOrigin={{
                  vertical: "top",
                  horizontal: "right",
                }}
                open={open}
                onClose={() => setAnchorEl(null)}
              >
                {menuOptions.map((opt) => (
                  <MenuItem
                    key={opt.label}
                    onClick={() => handleMenuSelect(opt.path)}
                  >
                    {opt.label}
                  </MenuItem>
                ))}
              </Menu>
            </>
          ) : (
            <>
              {menuOptions.map((opt) => (
                <Button
                  key={opt.label}
                  color="inherit"
                  onClick={() => handleMenuSelect(opt.path)}
                >
                  {opt.label}
                </Button>
              ))}
            </>
          )}
        </Toolbar>
      </AppBar>
      <Offset />
    </>
  );
};

export default SiteHeader;
```
The site header is permanent across all pages. 
Make the following changes to `src/index.tsx` to use the headers:

- Add an import at the top:

```tsx
import SiteHeader from './components/siteHeader'
```
- Replace the current site header code with a reference to the new component, as outlined below:

```
const App = () => {
  return (
      <BrowserRouter>
          <SiteHeader />      {/* New Header  */}
          <Routes>
             . . . as before . . . .
```

Check in the browser that the new header renders correctly.

Some comments on the SiteHeader component:

- Material Ui allow us to define a style theme for the app which all components inherit - it provides a default if none is declared. The useTheme hook gives components access to the theme.
- Material UI provides the useMediaQuery hook to simplify the implementation of media queries, i.e. to query properties of the browser/device running the app. We are querying the browser's viewport dimensions, checking if they are in the medium (md) or smaller category - a mobile device.
>>>const isMobile = useMediaQuery(theme.breakpoints.down("md"))
- The Theme object includes helper methods that generate the query string necessary to express the media query, 

>>>e.g. theme.breakpoints.down(). 

- When the browser/device is a mobile type, the site header should render the drop-down menu; otherwise, the standard navigation links should render. 
- The code for the drop-down menu is based on a solution from the documentation - see [here](https://material-ui.com/components/menus/)

Commit this work:

```
git add -A
git commit -m "Change site header."
git push origin main
```


[newheader]: ./img/newheader.png
[responsive]: ./img/responsive.png
